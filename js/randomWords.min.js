function getWordAndAnswer(){var e=[];$.ajax({url:"http://peaceful-thicket-5170.herokuapp.com/getWordAndAnswer",context:document.body}).done(function(e){JsonData=$.parseJSON(JSON.stringify(e));setWordsAndAnswers(JsonData)})}function setWordsAndAnswers(e){var t=[];resetWordsAndAnswers();$.each(e,function(e,n){words[count]=e;t[count]=n;count++});answers=$.unique(t);console.log("\n Size of Json returned from backend (Number of words) -- "+count);wordPosition=getRandomInt(zero,count);word=words[wordPosition];answer=getAnswer(e,word);allOptions=getOptionsWithoutAnswer($.unique(getRandomAnswer(answers,answer)),answer);console.log("answers without answer -- "+answers);for(var n=0;n<3;n++){options[n]=allOptions[n]}options[3]=answer;options=shuffleOptions(options);console.log("\n Selected Word -- "+word+", Answer -- "+answer);displayWordAsQuestion(word);appendOptions(options)}function resetWordsAndAnswers(){words=[];count=zero;answers=[];wordPosition=zero;word="No Word";answer="No Answer";allOptions=[];options=[]}function getRandomInt(e,t){return Math.floor(Math.random()*(t-e))+e}function getAnswer(e,t){$.each(e,function(e,n){if(e==t){answer=n}});return answer}function getRandomAnswer(e,t){var n=[];console.log("\n Answers -- "+e);for(var r=0;r<e.length;r++){var i=e[r];n[r]=i}console.log("\n Original Options -- "+n);allOptions=shuffleOptions(n);console.log("\n Shuffled Options -- "+allOptions);return allOptions}function shuffleOptions(e){var t=[];t=window.knuthShuffle(e.slice(0));return t}function getOptionsWithoutAnswer(e,t){var n=$.grep(e,function(e){return e!==t});return n}function appendOptions(e){$("li span").filter(".icon-google-plus").text(e[0]);$("li span").filter(".icon-facebook").text(e[1]);$("li span").filter(".icon-twitter").text(e[2]);$("li span").filter(".icon-github").text(e[3]);$("#checkAnswer").prop("disabled",false)}function removeOptions(){$("#option0").text("");$("#option1").text("");$("#option2").text("");$("#option3").text("");$("#option4").text("");animateOptions()}function displayWordAsQuestion(e){$(".cd-dropdown span").text(e)}function animateOptions(){$("#cd-dropdown").dropdown({gutter:5,delay:100,random:true})}var JsonData;var word;var selectedAnswer;var answerStatus;var answer="No Answer";var correct="correct";var incorrect="incorrect";var zero=0;var count=zero;var wordPosition=zero;var words=[];var answers=[];var allOptions=[];var options=[];$(document).ready(function(){$("#checkAnswer").prop("disabled",true);getWordAndAnswer();animateOptions();$(".cd-dropdown").on("click","li",function(){selectedAnswer=$(this).text()});$("#checkAnswer").click(function(){if(selectedAnswer!=undefined){$("#checkAnswer").prop("disabled",true);$.ajax({url:"http://peaceful-thicket-5170.herokuapp.com/getWordAndAnswer/checkAnswer?word="+word+"&answer="+selectedAnswer,dataType:"text",success:function(e){if(e==correct){setTimeout(function(){var e=new NotificationFx({message:'<span class="icon icon-megaphone"></span><p>You are correct. Get <a href="#">ready</a> for <a href="#">another one</a> now.</p>',layout:"bar",effect:"slidetop",type:"notice",onClose:function(){setTimeout(function(){setWordsAndAnswers(JsonData)},2e3)}});e.show()},1200)}else{setTimeout(function(){var e=new NotificationFx({message:'<span class="icon icon-bulb"></span><p>Your answer is incorrect. The answer is <a href="#">'+answer+"</a> Try again, now!</p>",layout:"bar",effect:"slidetop",type:"error",onClose:function(){setTimeout(function(){setWordsAndAnswers(JsonData)},2e3)}});e.show()},1200)}},error:function(e){console.log("\n Error \nStatus -- "+e.status+"\n Error Message -- "+e.responseText)}})}else{setTimeout(function(){var e=new NotificationFx({message:'<span class="icon icon-bulb"></span><p>Whoops! You forgot selecting a word..<a href="#">TRY AGAIN</a>!</p>',layout:"bar",effect:"slidetop",type:"error",onClose:function(){setTimeout(function(){console.log("Answer not selected!")},2e3)}});e.show()},1200)}})})